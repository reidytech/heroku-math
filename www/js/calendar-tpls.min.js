angular.module("ui.rCalendar.tpls",["templates/rcalendar/calendar.html","templates/rcalendar/day.html","templates/rcalendar/displayEvent.html","templates/rcalendar/month.html","templates/rcalendar/monthviewDisplayEvent.html","templates/rcalendar/monthviewEventDetail.html","templates/rcalendar/week.html"]),angular.module("ui.rCalendar",["ui.rCalendar.tpls"]).constant("calendarConfig",{formatDay:"dd",formatDayHeader:"EEE",formatDayTitle:"MMMM dd, yyyy",formatWeekTitle:"MMMM yyyy, Week w",formatMonthTitle:"MMMM yyyy",formatWeekViewDayHeader:"EEE d",formatHourColumn:"ha",calendarMode:"month",showEventDetail:!0,startingDayMonth:0,startingDayWeek:0,allDayLabel:"",noEventsLabel:"No Events",eventSource:null,queryMode:"local",step:60,autoSelect:!0,monthviewDisplayEventTemplateUrl:"templates/rcalendar/monthviewDisplayEvent.html",monthviewEventDetailTemplateUrl:"templates/rcalendar/monthviewEventDetail.html",weekviewAllDayEventTemplateUrl:"templates/rcalendar/displayEvent.html",weekviewNormalEventTemplateUrl:"templates/rcalendar/displayEvent.html",dayviewAllDayEventTemplateUrl:"templates/rcalendar/displayEvent.html",dayviewNormalEventTemplateUrl:"templates/rcalendar/displayEvent.html"}).controller("ui.rCalendar.CalendarController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","calendarConfig","$timeout","$ionicSlideBoxDelegate",function(e,t,n,a,l,r,i,d,s){"use strict";function o(e,t){var n=e,a=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,a=e),!(n.endIndex<=a.startIndex)&&!(n.endIndex-a.startIndex==1&&n.endOffset+a.startOffset>u.hourParts)}function c(e){var t,n,a,l=e.length,r=0,i=new Array(l);for(t=0;t<l;t+=1){for(a=0;a<r;a+=1)i[a]=!1;for(n=0;n<t;n+=1)o(e[t],e[n])&&(i[e[n].position]=!0);for(a=0;a<r&&i[a];a+=1);e[t].position=a<r?a:r++}}function v(e){var t,n,a,l,r,i,d,s=new Array(24);for(e.sort(function(e,t){return t.position-e.position}),a=0;a<24;a+=1)s[a]={calculated:!1,events:[]};for(r=e.length,a=0;a<r;a+=1)for(t=e[a],n=t.startIndex;n<t.endIndex;)s[n].events.push(t),n+=1;for(a=0;a<r;){if(t=e[a],!t.overlapNumber){var o=t.position+1;t.overlapNumber=o;for(var c=[t];t=c.shift();)for(n=t.startIndex;n<t.endIndex;){if(!s[n].calculated&&(s[n].calculated=!0,s[n].events))for(i=s[n].events.length,l=0;l<i;l+=1)d=s[n].events[l],d.overlapNumber||(d.overlapNumber=o,c.push(d));n+=1}}a+=1}}function m(t,n){var a,l=u.mode.step,r=new Date(t),i=r.getFullYear()+n*(l.years||0),d=r.getMonth()+n*(l.months||0),s=r.getDate()+n*(l.days||0);return r.setFullYear(i,d,s),"month"===e.calendarMode&&(a=new Date(i,d+1,1),a.getTime()<=r.getTime()&&(r=new Date(a-864e5))),r}var u=this,f={$setViewValue:angular.noop};if(angular.forEach(["formatDay","formatDayHeader","formatDayTitle","formatWeekTitle","formatMonthTitle","formatWeekViewDayHeader","formatHourColumn","allDayLabel","noEventsLabel"],function(n,l){u[n]=angular.isDefined(t[n])?a(t[n])(e.$parent):i[n]}),angular.forEach(["showEventDetail","monthviewDisplayEventTemplateUrl","monthviewEventDetailTemplateUrl","weekviewAllDayEventTemplateUrl","weekviewNormalEventTemplateUrl","dayviewAllDayEventTemplateUrl","dayviewNormalEventTemplateUrl","eventSource","queryMode","step","startingDayMonth","startingDayWeek","autoSelect"],function(n,a){u[n]=angular.isDefined(t[n])?e.$parent.$eval(t[n]):i[n]}),u.hourParts=1,60!==u.step&&30!==u.step&&15!==u.step)throw new Error("Invalid step parameter: "+u.step);u.hourParts=Math.floor(60/u.step);var g=e.$parent.$watch(t.eventSource,function(e){u.onEventSourceChanged(e)});e.$on("$destroy",g),e.calendarMode=e.calendarMode||i.calendarMode,angular.isDefined(t.initDate)&&(u.currentCalendarDate=e.$parent.$eval(t.initDate)),u.currentCalendarDate||(u.currentCalendarDate=new Date,t.ngModel&&!e.$parent.$eval(t.ngModel)&&n(t.ngModel).assign(e.$parent,u.currentCalendarDate)),u.init=function(e){f=e,f.$render=function(){u.render()}},u.render=function(){if(f.$modelValue){var e=new Date(f.$modelValue),t=!isNaN(e);t?this.currentCalendarDate=e:l.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),f.$setValidity("date",t)}this.refreshView()},u.refreshView=function(){this.mode&&(this.range=this._getRange(this.currentCalendarDate),e.titleChanged&&e.titleChanged({title:u._getTitle()}),this._refreshView(),this.rangeChanged())},u.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},u.onEventSourceChanged=function(e){u.eventSource=e,u._onDataLoaded&&u._onDataLoaded()},u.getAdjacentViewStartTime=function(e){var t=m(u.currentCalendarDate,e);return u._getRange(t).startTime},u.move=function(e){u.direction=e,u.moveOnSelected||(u.currentCalendarDate=m(u.currentCalendarDate,e)),f.$setViewValue(u.currentCalendarDate),u.refreshView(),u.direction=0,u.moveOnSelected=!1},u.rangeChanged=function(){"local"===u.queryMode?u.eventSource&&u._onDataLoaded&&u._onDataLoaded():"remote"===u.queryMode&&e.rangeChanged&&e.rangeChanged({startTime:this.range.startTime,endTime:this.range.endTime})},u.registerSlideChanged=function(e){e.currentViewIndex=0,e.slideChanged=function(t){d(function(){var n=e.currentViewIndex,a=0;t-n==1||0===t&&2===n?a=1:(n-t==1||2===t&&0===n)&&(a=-1),n=t,e.currentViewIndex=n,u.move(a),e.$digest()},200)}},u.populateAdjacentViews=function(e){var t,n,a,l=e.currentViewIndex,r=this._getViewData;1===u.direction?(t=u.getAdjacentViewStartTime(1),a=(l+1)%3,angular.copy(r(t),e.views[a])):-1===u.direction?(t=u.getAdjacentViewStartTime(-1),a=(l+2)%3,angular.copy(r(t),e.views[a])):e.views?(t=u.range.startTime,angular.copy(r(t),e.views[l]),t=u.getAdjacentViewStartTime(-1),a=(l+2)%3,angular.copy(r(t),e.views[a]),t=u.getAdjacentViewStartTime(1),a=(l+1)%3,angular.copy(r(t),e.views[a])):(n=[],t=u.range.startTime,n.push(r(t)),t=u.getAdjacentViewStartTime(1),n.push(r(t)),t=u.getAdjacentViewStartTime(-1),n.push(r(t)),e.views=n)},u.placeEvents=function(e){c(e),v(e)},u.placeAllDayEvents=function(t){c(t),u.slideView=function(t){var n=s.$getByHandle(e.calendarMode+"view-slide");n&&(1===t?n.next():-1===t&&n.previous())}}}]).directive("calendar",function(){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates/rcalendar/calendar.html",scope:{calendarMode:"=",rangeChanged:"&",eventSelected:"&",timeSelected:"&",titleChanged:"&",isDateDisabled:"&"},require:["calendar","?^ngModel"],controller:"ui.rCalendar.CalendarController",link:function(e,t,n,a){var l=a[0],r=a[1];r&&l.init(r),e.$on("changeDate",function(e,t){l.slideView(t)}),e.$on("eventSourceChanged",function(e,t){l.onEventSourceChanged(t)})}}}).directive("monthview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates/rcalendar/month.html",require:["^calendar","?^ngModel"],link:function(t,n,a,l){function r(e,t){var n=new Array(t),a=new Date(e),l=0;for(a.setHours(12);l<t;)n[l++]=new Date(a),a.setDate(a.getDate()+1);return n}function i(n,a){var l={date:n,label:e(n,a)};return t.isDateDisabled&&(l.disabled=t.isDateDisabled({date:n})),l}function d(e,n){var a,l=o.currentCalendarDate,r=new Date,i=Math.floor((l.getTime()-e.getTime())/864e5),d=Math.floor((r.getTime()-e.getTime())/864e5);for(a=0;a<42;a+=1)n.dates[a].selected=!1;i>=0&&i<42&&(t.autoSelect||o.moveOnSelected)?(n.dates[i].selected=!0,t.selectedDate=n.dates[i]):t.selectedDate={events:[]},d>=0&&d<42&&(n.dates[d].current=!0)}function s(e,t){return e.allDay?1:t.allDay?-1:e.startTime.getTime()-t.startTime.getTime()}var o=l[0],c=l[1];t.showEventDetail=o.showEventDetail,t.formatDayHeader=o.formatDayHeader,t.autoSelect=o.autoSelect,o.mode={step:{months:1}},t.noEventsLabel=o.noEventsLabel,t.displayEventTemplateUrl=o.monthviewDisplayEventTemplateUrl,t.eventDetailTemplateUrl=o.monthviewEventDetailTemplateUrl,t.select=function(e){var n,a,l=e.date,r=e.events,i=t.views;if(i){n=i[t.currentViewIndex].dates;var d=o.currentCalendarDate,s=d.getMonth(),v=d.getFullYear(),m=l.getMonth(),u=l.getFullYear(),f=0;if(v===u?s!==m&&(f=s<m?1:-1):f=v<u?1:-1,o.currentCalendarDate=l,0===f){c&&c.$setViewValue(l);var g=o.range.startTime,w=Math.floor((l.getTime()-g.getTime())/864e5);for(a=0;a<42;a+=1)n[a].selected=!1;w>=0&&w<42&&(n[w].selected=!0,t.selectedDate=n[w])}else o.moveOnSelected=!0,o.slideView(f);t.timeSelected&&t.timeSelected({selectedTime:l,events:r,disabled:e.disabled||!1})}},t.getHighlightClass=function(e){var t="";return e.hasEvent&&(t=e.secondary?"monthview-secondary-with-event":"monthview-primary-with-event"),e.selected&&(t&&(t+=" "),t+="monthview-selected"),e.current&&(t&&(t+=" "),t+="monthview-current"),e.secondary&&(t&&(t+=" "),t+="text-muted"),e.disabled&&(t&&(t+=" "),t+="monthview-disabled"),t},o._getTitle=function(){var t=o.range.startTime,n=t.getDate(),a=(t.getMonth()+(1!==n?1:0))%12,l=t.getFullYear()+(1!==n&&0===a?1:0),r=new Date(l,a,1);return e(r,o.formatMonthTitle)},o._getViewData=function(e){for(var t=e,n=t.getDate(),a=(t.getMonth()+(1!==n?1:0))%12,l=r(t,42),d=0;d<42;d++)l[d]=angular.extend(i(l[d],o.formatDay),{secondary:l[d].getMonth()!==a});return{dates:l}},o._refreshView=function(){o.populateAdjacentViews(t),d(o.range.startTime,t.views[t.currentViewIndex])},o._onDataLoaded=function(){for(var e=o.eventSource,n=e?e.length:0,a=o.range.startTime,l=o.range.endTime,r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),i=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate())),d=t.currentViewIndex,c=t.views[d].dates,v=0;v<42;v+=1)c[v].hasEvent&&(c[v].hasEvent=!1,c[v].events=[]);for(var m=0;m<n;m+=1){var u,f,g=e[m],w=new Date(g.startTime),h=new Date(g.endTime);if(g.allDay){if(h<=r||w>=i)continue;u=r,f=i}else{if(h<=a||w>=l)continue;u=a,f=l}var p,y;w<=u?y=0:(p=w-u,g.allDay||(p-=6e4*(w.getTimezoneOffset()-u.getTimezoneOffset())),y=p/864e5);var D;h>=f?(p=f-u,g.allDay||(p-=6e4*(f.getTimezoneOffset()-u.getTimezoneOffset())),D=p/864e5):(p=h-u,g.allDay||(p-=6e4*(h.getTimezoneOffset()-u.getTimezoneOffset())),D=p/864e5);for(var b,T=Math.floor(y);T<D-.001;)c[T].hasEvent=!0,b=c[T].events,b?b.push(g):(b=[],b.push(g),c[T].events=b),T+=1}for(v=0;v<42;v+=1)c[v].hasEvent&&c[v].events.sort(s);if(t.autoSelect){var E=!1;for(v=0;v<42;v+=1){if(c[v].selected){t.selectedDate=c[v],E=!0;break}if(E)break}}},o._getRange=function(e){var t,n=e.getFullYear(),a=e.getMonth(),l=new Date(n,a,1),r=o.startingDayMonth-l.getDay(),i=r>0?7-r:-r,d=new Date(l);return i>0&&d.setDate(1-i),t=new Date(d),t.setDate(t.getDate()+42),{startTime:d,endTime:t}},o.registerSlideChanged(t),o.refreshView()}}}]).directive("weekview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates/rcalendar/week.html",require:"^calendar",link:function(t,n,a,l){function r(e,t){var n=new Array(t),a=new Date(e),l=0;for(a.setHours(12);l<t;)n[l++]={date:new Date(a)},a.setDate(a.getDate()+1);return n}function i(e){for(var t,n,a=[],l=e.getHours(),r=e.getDate(),i=0;i<24;i+=1){t=[];for(var d=0;d<7;d+=1)n=new Date(e.getTime()),n.setHours(l+i),n.setDate(r+d),t.push({time:n});a.push(t)}return a}function d(e,t){return e.startOffset-t.startOffset}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.formatWeekViewDayHeader=l.formatWeekViewDayHeader,t.formatHourColumn=l.formatHourColumn,l.mode={step:{days:7}},t.allDayLabel=l.allDayLabel,t.hourParts=l.hourParts,t.allDayEventTemplateUrl=l.weekviewAllDayEventTemplateUrl,t.normalEventTemplateUrl=l.weekviewNormalEventTemplateUrl,l._getTitle=function(){var t,n,a=l.range.startTime;return t=l.formatWeekTitle.indexOf("w"),n=e(a,l.formatWeekTitle),-1!==t&&(n=n.replace("w",s(a))),n},t.select=function(e,n){if(t.timeSelected){var a;t.isDateDisabled&&(a=t.isDateDisabled({date:e})),t.timeSelected({selectedTime:e,events:n,disabled:a||!1})}},l._getViewData=function(e){return{rows:i(e),dates:r(e,7)}},l._refreshView=function(){l.populateAdjacentViews(t)},l._onDataLoaded=function(){var e,n,a,r,i=l.eventSource,s=i?i.length:0,o=l.range.startTime,c=l.range.endTime,v=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())),m=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate())),u=t.currentViewIndex,f=t.views[u].rows,g=t.views[u].dates,w=!1,h=!1;for(e=0;e<7;e+=1)g[e].events=[];for(n=0;n<7;n+=1)for(a=0;a<24;a+=1)f[a][n].events=[];for(e=0;e<s;e+=1){var p=i[e],y=new Date(p.startTime),D=new Date(p.endTime);if(p.allDay){if(D<=v||y>=m)continue;w=!0;var b;b=y<=v?0:Math.floor((y-v)/864e5);var T;T=D>=m?Math.ceil((m-v)/864e5):Math.ceil((D-v)/864e5);var E={event:p,startIndex:b,endIndex:T};r=g[b].events,r?r.push(E):(r=[],r.push(E),g[b].events=r)}else{if(D<=o||y>=c)continue;h=!0;var x,k;y<=o?k=0:(x=y-o-6e4*(y.getTimezoneOffset()-o.getTimezoneOffset()),k=x/36e5);var C;D>=c?(x=c-o-6e4*(c.getTimezoneOffset()-o.getTimezoneOffset()),C=x/36e5):(x=D-o-6e4*(D.getTimezoneOffset()-o.getTimezoneOffset()),C=x/36e5);var M,V=Math.floor(k),$=Math.ceil(C-.016),S=V%24,I=Math.floor(V/24),O=24*I,U=0,H=0;1!==l.hourParts&&(U=Math.floor((k-V)*l.hourParts));do{O+=24,O<=$?M=24:(M=$%24,1!==l.hourParts&&(H=Math.floor(($-C)*l.hourParts)));var A={event:p,startIndex:S,endIndex:M,startOffset:U,endOffset:H};r=f[S][I].events,r?r.push(A):(r=[],r.push(A),f[S][I].events=r),S=0,U=0,I+=1}while(O<$)}}if(h)for(n=0;n<7;n+=1){var _=[];for(a=0;a<24;a+=1)f[a][n].events&&(f[a][n].events.sort(d),_=_.concat(f[a][n].events));_.length>0&&l.placeEvents(_)}if(w){var L=[];for(n=0;n<7;n+=1)g[n].events&&(L=L.concat(g[n].events));L.length>0&&l.placeAllDayEvents(L)}},l._getRange=function(e){var t,n,a=e.getFullYear(),r=e.getMonth(),i=e.getDate(),d=e.getDay(),s=d-l.startingDayWeek;return s<0&&(s+=7),t=new Date(a,r,i-s),n=new Date(a,r,i-s+7),{startTime:t,endTime:n}},l.registerSlideChanged(t),l.refreshView()}}}]).directive("dayview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"templates/rcalendar/day.html",require:"^calendar",link:function(t,n,a,l){function r(e){for(var t,n=[],a=e.getHours(),l=e.getDate(),r=0;r<24;r+=1)t=new Date(e.getTime()),t.setHours(a+r),t.setDate(l),n.push({time:t});return n}function i(e,t){return e.startOffset-t.startOffset}t.formatHourColumn=l.formatHourColumn,l.mode={step:{days:1}},t.allDayLabel=l.allDayLabel,t.hourParts=l.hourParts,t.allDayEventTemplateUrl=l.dayviewAllDayEventTemplateUrl,t.normalEventTemplateUrl=l.dayviewNormalEventTemplateUrl,t.select=function(e,n){if(t.timeSelected){var a;t.isDateDisabled&&(a=t.isDateDisabled({date:e})),t.timeSelected({selectedTime:e,events:n,disabled:a||!1})}},l._onDataLoaded=function(){var e,n,a=l.eventSource,r=a?a.length:0,d=l.range.startTime,s=l.range.endTime,o=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate())),c=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),v=t.currentViewIndex,m=t.views[v].rows,u=t.views[v].allDayEvents=[],f=!1;for(e=0;e<24;e+=1)m[e].events=[];for(var g=0;g<r;g+=1){var w=a[g],h=new Date(w.startTime),p=new Date(w.endTime);if(w.allDay){if(p<=o||h>=c)continue;u.push({event:w})}else{if(p<=d||h>=s)continue;f=!0;var y,D;h<=d?D=0:(y=h-d-6e4*(h.getTimezoneOffset()-d.getTimezoneOffset()),D=y/36e5);var b;p>=s?(y=s-d-6e4*(s.getTimezoneOffset()-d.getTimezoneOffset()),b=y/36e5):(y=p-d-6e4*(p.getTimezoneOffset()-d.getTimezoneOffset()),b=y/36e5);var T=Math.floor(D),E=Math.ceil(b-.016),x=0,k=0;1!==l.hourParts&&(x=Math.floor((D-T)*l.hourParts),k=Math.floor((E-b)*l.hourParts));var C={event:w,startIndex:T,endIndex:E,startOffset:x,endOffset:k};n=m[T].events,n?n.push(C):(n=[],n.push(C),m[T].events=n)}}if(f){var M=[];for(e=0;e<24;e+=1)m[e].events&&(m[e].events.sort(i),M=M.concat(m[e].events));M.length>0&&l.placeEvents(M)}},l._refreshView=function(){l.populateAdjacentViews(t)},l._getTitle=function(){var t=l.range.startTime;return e(t,l.formatDayTitle)},l._getViewData=function(e){return{rows:r(e),allDayEvents:[]}},l._getRange=function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate();return{startTime:new Date(t,n,a),endTime:new Date(t,n,a+1)}},l.registerSlideChanged(t),l.refreshView()}}}]),angular.module("templates/rcalendar/calendar.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/calendar.html",'<div class="calendar-container" ng-switch="calendarMode">\n    <dayview ng-switch-when="day"></dayview>\n    <monthview ng-switch-when="month"></monthview>\n    <weekview ng-switch-when="week"></weekview>\n</div>')}]),angular.module("templates/rcalendar/day.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/day.html",'<div class="dayview">\n    <ion-slide-box class="dayview-slide" on-slide-changed="slideChanged($index)" does-continue="true"\n                   show-pager="false" delegate-handle="dayview-slide">\n        <ion-slide ng-repeat="view in views track by $index">\n            <div class="dayview-allday-table">\n                <div class="dayview-allday-label" ng-bind="::allDayLabel"></div>\n                <ion-content class="dayview-allday-content-wrapper" has-bouncing="false" overflow-scroll="false">\n                    <table class="table table-bordered dayview-allday-content-table">\n                        <tbody>\n                        <tr>\n                            <td class="calendar-cell" ng-class="{\'calendar-event-wrap\':view.allDayEvents.length>0}"\n                                ng-if="$index===currentViewIndex" ng-style="{height: 25*view.allDayEvents.length+\'px\'}">\n                                <div ng-repeat="displayEvent in view.allDayEvents" class="calendar-event"\n                                     ng-click="eventSelected({event:displayEvent.event})"\n                                     ng-style="{top: 25*$index+\'px\',width: \'100%\',height:\'25px\'}"\n                                     ng-include="::allDayEventTemplateUrl">\n                                </div>\n                            </td>\n                            <td class="calendar-cell" ng-if="$index!==currentViewIndex">\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </ion-content>\n            </div>\n            <ion-content class="dayview-normal-event-container" has-bouncing="false" overflow-scroll="false">\n                <table class="table table-bordered table-fixed dayview-normal-event-table"\n                       ng-if="$index===currentViewIndex">\n                    <tbody>\n                    <tr ng-repeat="tm in view.rows track by $index">\n                        <td class="calendar-hour-column text-center">\n                            {{::tm.time | date: formatHourColumn}}\n                        </td>\n                        <td class="calendar-cell" ng-click="select(tm.time, tm.events)">\n                            <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                                <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                                     ng-click="eventSelected({event:displayEvent.event})"\n                                     ng-style="{top: (37*displayEvent.startOffset/hourParts)+\'px\', left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+\'px\'}"\n                                     ng-include="::normalEventTemplateUrl">\n                                </div>\n                            </div>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n                <table class="table table-bordered table-fixed dayview-normal-event-table"\n                       ng-if="$index!==currentViewIndex">\n                    <tbody>\n                    <tr ng-repeat="tm in view.rows track by $index">\n                        <td class="calendar-hour-column text-center">\n                            {{::tm.time | date: formatHourColumn}}\n                        </td>\n                        <td class="calendar-cell">\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </ion-content>\n        </ion-slide>\n    </ion-slide-box>\n</div>\n')}]),angular.module("templates/rcalendar/displayEvent.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/displayEvent.html",'<div class="calendar-event-inner">{{displayEvent.event.title}}</div>')}]),angular.module("templates/rcalendar/month.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/month.html",'<div>\n    <ion-slide-box class="monthview-slide" on-slide-changed="slideChanged($index)" does-continue="true"\n                   show-pager="false" delegate-handle="monthview-slide">\n        <ion-slide ng-repeat="view in views track by $index">\n            <table ng-if="$index===currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                <thead>\n                <tr>\n                    <th ng-repeat="day in view.dates.slice(0,7) track by day.date">\n                        <small>{{::day.date | date: formatDayHeader}}</small>\n                    </th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="row in [0,1,2,3,4,5]">\n                    <td ng-repeat="col in [0,1,2,3,4,5,6]" ng-click="select(view.dates[row*7+col])"\n                        ng-class="getHighlightClass(view.dates[row*7+col])" ng-include="::displayEventTemplateUrl">\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n            <table ng-if="$index!==currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                <thead>\n                <tr class="text-center">\n                    <th ng-repeat="day in view.dates.slice(0,7) track by day.date">\n                        <small>{{::day.date | date: formatDayHeader}}</small>\n                    </th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="row in [0,1,2,3,4,5]">\n                    <td ng-repeat="col in [0,1,2,3,4,5,6]">{{view.dates[row*7+col].label}}\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </ion-slide>\n    </ion-slide-box>\n    <div ng-include="::eventDetailTemplateUrl"></div>\n</div>\n')}]),angular.module("templates/rcalendar/monthviewDisplayEvent.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/monthviewDisplayEvent.html","{{view.dates[row*7+col].label}}")}]),angular.module("templates/rcalendar/monthviewEventDetail.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/monthviewEventDetail.html",'<ion-content class="event-detail-container" has-bouncing="false" ng-show="showEventDetail" overflow-scroll="false">\n    <table class="table table-bordered table-striped table-fixed event-detail-table">\n        <tr ng-repeat="event in selectedDate.events" ng-click="eventSelected({event:event})">\n            <td ng-if="!event.allDay" class="monthview-eventdetail-timecolumn">{{::event.startTime|date: \'HH:mm\'}}\n                -\n                {{::event.endTime|date: \'HH:mm\'}}\n            </td>\n            <td ng-if="event.allDay" class="monthview-eventdetail-timecolumn">All day</td>\n            <td class="event-detail">{{::event.title}}</td>\n        </tr>\n        <tr ng-if="!selectedDate.events">\n            <td class="no-event-label" ng-bind="::noEventsLabel"></td>\n        </tr>\n    </table>\n</ion-content>')}]),angular.module("templates/rcalendar/week.html",[]).run(["$templateCache",function(e){e.put("templates/rcalendar/week.html",'<div class="weekview">\n    <ion-slide-box class="weekview-slide" on-slide-changed="slideChanged($index)" does-continue="true"\n                   show-pager="false" delegate-handle="weekview-slide">\n        <ion-slide ng-repeat="view in views track by $index">\n            <table class="table table-bordered table-fixed weekview-header">\n                <thead>\n                <tr>\n                    <th class="calendar-hour-column"></th>\n                    <th class="weekview-header text-center" ng-repeat="dt in view.dates">{{::dt.date| date:\n                        formatWeekViewDayHeader}}\n                    </th>\n                </tr>\n                </thead>\n            </table>\n            <div ng-if="$index===currentViewIndex">\n                <div class="weekview-allday-table">\n                    <div class="weekview-allday-label" ng-bind="::allDayLabel">\n                    </div>\n                    <ion-content class="weekview-allday-content-wrapper" has-bouncing="false" overflow-scroll="false">\n                        <table class="table table-fixed weekview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td ng-repeat="day in view.dates track by day.date" class="calendar-cell">\n                                    <div ng-class="{\'calendar-event-wrap\': day.events}" ng-if="day.events"\n                                         ng-style="{height: 25*day.events.length+\'px\'}">\n                                        <div ng-repeat="displayEvent in day.events" class="calendar-event"\n                                             ng-click="eventSelected({event:displayEvent.event})"\n                                             ng-style="{top: 25*displayEvent.position+\'px\', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+\'%\', height: \'25px\'}"\n                                             ng-include="::allDayEventTemplateUrl">\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </ion-content>\n                </div>\n                <ion-content class="weekview-normal-event-container" has-bouncing="false" overflow-scroll="false">\n                    <table class="table table-bordered table-fixed weekview-normal-event-table">\n                        <tbody>\n                        <tr ng-repeat="row in view.rows track by $index">\n                            <td class="calendar-hour-column text-center">\n                                {{::row[0].time | date: formatHourColumn}}\n                            </td>\n                            <td ng-repeat="tm in row track by tm.time" class="calendar-cell" ng-click="select(tm.time, tm.events)">\n                                <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                                    <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                                         ng-click="eventSelected({event:displayEvent.event})"\n                                         ng-style="{top: (37*displayEvent.startOffset/hourParts)+\'px\',left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+\'px\'}"\n                                         ng-include="::normalEventTemplateUrl">\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </ion-content>\n            </div>\n            <div ng-if="$index!==currentViewIndex">\n                <div class="weekview-allday-table">\n                    <div class="weekview-allday-label" ng-bind="::allDayLabel"></div>\n                    <ion-content class="weekview-allday-content-wrapper" has-bouncing="false" overflow-scroll="false">\n                        <table class="table table-fixed weekview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td ng-repeat="day in view.dates track by day.date" class="calendar-cell">\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </ion-content>\n                </div>\n                <ion-content class="weekview-normal-event-container" has-bouncing="false" overflow-scroll="false">\n                    <table class="table table-bordered table-fixed weekview-normal-event-table">\n                        <tbody>\n                        <tr ng-repeat="row in view.rows track by $index">\n                            <td class="calendar-hour-column text-center">\n                                {{::row[0].time | date: formatHourColumn}}\n                            </td>\n                            <td ng-repeat="tm in row track by tm.time" class="calendar-cell">\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </ion-content>\n            </div>\n        </ion-slide>\n    </ion-slide-box>\n</div>')}]);